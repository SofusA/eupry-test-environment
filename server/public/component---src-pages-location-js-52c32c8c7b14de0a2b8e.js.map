{"version":3,"sources":["webpack:///./src/pages/location.js","webpack:///./node_modules/react-bootstrap/esm/BreadcrumbItem.js","webpack:///./node_modules/react-bootstrap/esm/Breadcrumb.js"],"names":["Index","state","ID","data","getData","loc","window","location","href","split","setState","URL","url","profileURL","locationURL","axios","get","then","res","catch","error","navigate","console","log","locName","name","handleClick","componentDidMount","localStorage","getItem","this","render","profiles","profileRender","profile","push","className","key","id","variant","type","onClick","Item","active","style","width","Header","React","Component","BreadcrumbItem","forwardRef","_ref","ref","bsPrefix","children","_ref$as","as","_ref$linkAs","linkAs","LinkComponent","SafeAnchor","linkProps","title","target","props","prefix","createElement","undefined","displayName","defaultProps","Breadcrumb","listProps","label"],"mappings":"snCASqBA,E,oJAEnBC,MAAQ,CACNC,GAAI,KACJC,KAAM,I,EAeRC,QAAU,WACR,IAAIC,EAAMC,OAAOC,SAASC,KAC1BH,EAAMA,EAAII,MAAM,KAAK,GACrB,EAAKC,SAAS,CACZL,IAAKA,IAGP,IAAIM,EAAMC,IACNC,EAAaF,EAAM,wBAA0BN,EAAM,WAAa,EAAKJ,MAAMC,GAC3EY,EAAcH,EAAM,wBAA0BN,EAAM,OAAS,EAAKJ,MAAMC,GAE5Ea,IAAMC,IAAIH,GACPI,MAAK,SAAAC,GACJ,EAAKR,SAAS,CACZP,KAAMe,EAAIf,UAGbgB,OAAM,SAAAC,GACLC,YAAS,cAGbC,QAAQC,IAAI,6BAA+BV,GAE3CE,IAAMC,IAAIF,GACPG,MAAK,SAAAC,GACJ,EAAKR,SAAS,CACZc,QAASN,EAAIf,KAAKsB,UAGrBN,OAAM,SAAAC,GACLE,QAAQC,IAAIH,MAEdE,QAAQC,IAAI,6BAA+BT,I,EAG/CY,YAAc,WACZJ,QAAQC,IAAI,EAAKtB,Q,8CAhDnB0B,kBAAA,WAAqB,IAAD,OACd,oBAAOrB,QAA0BsB,aAAaC,QAAQ,MACxDC,KAAKpB,SAAS,CACZR,GAAI0B,aAAaC,QAAQ,QACxB,WACD,EAAKzB,aAGPiB,YAAS,Y,EA2CbU,OAAA,WAGE,IAHQ,IAGR,EAHO,OACDC,EAAWF,KAAK7B,MAAME,KACtB8B,EAAgB,GAFf,iBAGEC,EAHF,QAILD,EAAcE,KACZ,kBAAC,IAAD,CAAKC,UAAU,gBAAgBC,IAAK,gBAAkBH,EAAQI,IAC5D,kBAAC,IAAD,CAAQC,QAAQ,QAAQC,KAAK,SAASC,QAAS,WAAQpB,YAAS,gBAAkB,EAAKpB,MAAMI,IAAM,QAAU6B,EAAQI,KAAOF,UAAU,4BACnIF,EAAQT,SAJjB,IAAoBO,KAApB,aAA+B,IAS/B,OACE,kBAAC,IAAD,KAEE,kBAAC,IAAD,KACE,kBAAC,IAAWU,KAAZ,CAAiBD,QAAS,WAAQpB,YAAS,OAA3C,eACA,kBAAC,IAAWqB,KAAZ,CAAiBC,QAAM,GAAvB,IAA0Bb,KAAK7B,MAAMuB,QAArC,MAGF,yBAAKY,UAAWN,KAAK7B,MAAMC,GAAK,UAAY,YAC1C,kBAAC,IAAD,CAAKkC,UAAU,6BACb,kBAAC,IAAD,CAAMA,UAAU,cAAcQ,MAAO,CAAEC,MAAO,UAC5C,kBAAC,IAAKC,OAAN,yBAIN,yBAAKV,UAAWN,KAAK7B,MAAMC,GAAK,YAAc,UAC5C,6BACE,kBAAC,IAAD,CAAKkC,UAAU,6BACb,kBAAC,IAAD,CAAKA,UAAU,2BAA2BH,Q,GAxFrBc,IAAMC,Y,gICCrCC,EAA8B,IAAMC,YAAW,SAAUC,EAAMC,GACjE,IAAIC,EAAWF,EAAKE,SAChBV,EAASQ,EAAKR,OACdW,EAAWH,EAAKG,SAChBlB,EAAYe,EAAKf,UACjBmB,EAAUJ,EAAKK,GACfR,OAAwB,IAAZO,EAAqB,KAAOA,EACxCE,EAAcN,EAAKO,OACnBC,OAAgC,IAAhBF,EAAyBG,EAAA,EAAaH,EACtDI,EAAYV,EAAKU,UACjBrD,EAAO2C,EAAK3C,KACZsD,EAAQX,EAAKW,MACbC,EAASZ,EAAKY,OACdC,EAAQ,YAA8Bb,EAAM,CAAC,WAAY,SAAU,WAAY,YAAa,KAAM,SAAU,YAAa,OAAQ,QAAS,WAE1Ic,EAAS,YAAmBZ,EAAU,mBAC1C,OAAoB,IAAMa,cAAclB,EAAW,YAAS,CAC1DI,IAAKA,GACJY,EAAO,CACR5B,UAAW,IAAW6B,EAAQ7B,EAAW,CACvCO,OAAQA,IAEV,eAAgBA,EAAS,YAASwB,IAChCxB,EAASW,EAAwB,IAAMY,cAAcP,EAAe,YAAS,GAAIE,EAAW,CAC9FrD,KAAMA,EACNsD,MAAOA,EACPC,OAAQA,IACNT,OAENL,EAAemB,YAAc,iBAC7BnB,EAAeoB,aAlCI,CACjB1B,QAAQ,EACRkB,UAAW,IAiCE,QC/BXS,EAA0B,IAAMpB,YAAW,SAAUC,EAAMC,GAC7D,IAAIC,EAAWF,EAAKE,SAChBjB,EAAYe,EAAKf,UACjBmC,EAAYpB,EAAKoB,UACjBjB,EAAWH,EAAKG,SAChBkB,EAAQrB,EAAKqB,MACbjB,EAAUJ,EAAKK,GACfR,OAAwB,IAAZO,EAAqB,MAAQA,EACzCS,EAAQ,YAA8Bb,EAAM,CAAC,WAAY,YAAa,YAAa,WAAY,QAAS,OAExGc,EAAS,YAAmBZ,EAAU,cAC1C,OAAoB,IAAMa,cAAclB,EAAW,YAAS,CAC1D,aAAcwB,EACdpC,UAAWA,EACXgB,IAAKA,GACJY,GAAqB,IAAME,cAAc,KAAM,YAAS,GAAIK,EAAW,CACxEnC,UAAW,IAAW6B,EAAqB,MAAbM,OAAoB,EAASA,EAAUnC,aACnEkB,OAENgB,EAAWF,YAAc,aACzBE,EAAWD,aAxBQ,CACjBG,MAAO,aACPD,UAAW,IAuBbD,EAAW5B,KAAO,EACH,O","file":"component---src-pages-location-js-52c32c8c7b14de0a2b8e.js","sourcesContent":["import React from \"react\"\nimport Layout from \"../components/layout\"\nimport { navigate } from \"gatsby\"\nimport { Card, Row, Col, Button, Breadcrumb } from \"react-bootstrap\"\nimport axios from 'axios';\nimport '../styles/cardStyles.css'\n\nimport { url } from \"../../static/url.js\"\n\nexport default class Index extends React.Component {\n\n  state = {\n    ID: null,\n    data: []\n  }\n\n  componentDidMount() {\n    if (typeof window !== `undefined` && localStorage.getItem('ID')) {\n      this.setState({\n        ID: localStorage.getItem('ID'),\n      }, () => {\n        this.getData()\n      });\n    } else (\n      navigate(\"/login/\")\n    );\n  }\n\n  getData = () => {\n    let loc = window.location.href;\n    loc = loc.split(\"?\")[1];\n    this.setState({\n      loc: loc\n    });\n\n    let URL = url;\n    let profileURL = URL + \"/api/forward?api=loc/\" + loc + \"/pro&id=\" + this.state.ID;\n    let locationURL = URL + \"/api/forward?api=loc/\" + loc + \"&id=\" + this.state.ID;\n\n    axios.get(profileURL)\n      .then(res => {\n        this.setState({\n          data: res.data\n        });\n      })\n      .catch(error => {\n        navigate(\"/login/\")\n      }\n      );\n    console.log(\"location.js -> getData(): \" + profileURL)\n    \n    axios.get(locationURL)\n      .then(res => {\n        this.setState({\n          locName: res.data.name\n        })\n      })\n      .catch(error => {\n        console.log(error)\n      });\n      console.log(\"location.js -> getData(): \" + locationURL)\n  }\n\n  handleClick = () => {\n    console.log(this.state)\n  }\n\n  render() {\n    const profiles = this.state.data;\n    const profileRender = [];\n    for (let profile of profiles) {\n      profileRender.push(\n        <Col className=\"col-auto mb-3\" key={\"profileRender\" + profile.id}>\n          <Button variant=\"light\" type=\"submit\" onClick={() => { navigate(\"/profile?loc=\" + this.state.loc + \"&pro=\" + profile.id) }} className=\"p-4 shadow-sm buttonCard\">\n            {profile.name}\n          </Button>\n        </Col>\n      );\n    }\n    return (\n      <Layout>\n        {/*<Button onClick={this.handleClick}>Log</Button>*/}\n        <Breadcrumb>\n          <Breadcrumb.Item onClick={() => { navigate(\"/\") }}> Locations </Breadcrumb.Item>\n          <Breadcrumb.Item active> {this.state.locName} </Breadcrumb.Item>\n        </Breadcrumb>\n\n        <div className={this.state.ID ? \"d-none \" : \"d-inline\"}>\n          <Row className=\"justify-content-md-center\">\n            <Card className=\"text-center\" style={{ width: '18rem' }}>\n              <Card.Header>Not logged in</Card.Header>\n            </Card>\n          </Row>\n        </div>\n        <div className={this.state.ID ? \"d-inline \" : \"d-none\"}>\n          <div>\n            <Row className=\"justify-content-md-center\">\n              <Row className=\"justify-content-md-left\">{profileRender}</Row>\n            </Row>\n          </div>\n        </div>\n      </Layout>\n    )\n  }\n}\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport SafeAnchor from './SafeAnchor';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  active: false,\n  linkProps: {}\n};\nvar BreadcrumbItem = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      active = _ref.active,\n      children = _ref.children,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'li' : _ref$as,\n      _ref$linkAs = _ref.linkAs,\n      LinkComponent = _ref$linkAs === void 0 ? SafeAnchor : _ref$linkAs,\n      linkProps = _ref.linkProps,\n      href = _ref.href,\n      title = _ref.title,\n      target = _ref.target,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"active\", \"children\", \"className\", \"as\", \"linkAs\", \"linkProps\", \"href\", \"title\", \"target\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'breadcrumb-item');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(prefix, className, {\n      active: active\n    }),\n    \"aria-current\": active ? 'page' : undefined\n  }), active ? children : /*#__PURE__*/React.createElement(LinkComponent, _extends({}, linkProps, {\n    href: href,\n    title: title,\n    target: target\n  }), children));\n});\nBreadcrumbItem.displayName = 'BreadcrumbItem';\nBreadcrumbItem.defaultProps = defaultProps;\nexport default BreadcrumbItem;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport BreadcrumbItem from './BreadcrumbItem';\nvar defaultProps = {\n  label: 'breadcrumb',\n  listProps: {}\n};\nvar Breadcrumb = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      listProps = _ref.listProps,\n      children = _ref.children,\n      label = _ref.label,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'nav' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"listProps\", \"children\", \"label\", \"as\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'breadcrumb');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    \"aria-label\": label,\n    className: className,\n    ref: ref\n  }, props), /*#__PURE__*/React.createElement(\"ol\", _extends({}, listProps, {\n    className: classNames(prefix, listProps == null ? void 0 : listProps.className)\n  }), children));\n});\nBreadcrumb.displayName = 'Breadcrumb';\nBreadcrumb.defaultProps = defaultProps;\nBreadcrumb.Item = BreadcrumbItem;\nexport default Breadcrumb;"],"sourceRoot":""}